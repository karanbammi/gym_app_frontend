<!doctype html>

<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Register</title>
	<link rel="stylesheet" href="css/style.css" type="text/css">
	<link rel="stylesheet" type="text/css" href="css/mobile.css">
	<script src="js/mobile.js" type="text/javascript"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
	<div id="page">
		<div id="header">
			<div id="navigation">
				<span id="mobile-navigation">&nbsp;</span>
				<a href="index.html" class="logo"><img src="images/logo.png" alt=""></a>
				<ul id="menu">
					<li class="selected">
						<a href="register.html">Register</a>
					</li>
					<li>
						<a href="index.html">Log-in</a>
					</li>
					<li>
						<a href="contact1.html">Contact</a>
					</li>
				</ul>
			</div>
		</div>
		<div id="body" class="register">
			<div>
				<h1>Register Yourself</h1>
				<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(0,0,0,0.1);">
					<input id="username" style="width: 600px; height:40px" placeholder="Username">
					<input id="email" style="width: 600px; height:40px; margin-top: 10px;" placeholder="Email">
					<input type="password" id="password" style="width: 600px; height:40px; margin-top: 10px;" placeholder="Password">
					<button id="register" style="width: 600px; margin-top: 10px; height: 40px; border: 2px solid white; background: rgba(0,0,0,0.1); color:white; cursor: pointer;">REGISTER</button>
				</div>
		<div id="footer">
			<div>
				<div class="connect">
					<a href="https://twitter.com/findyourgym?" class="twitter">twitter</a>
				
				</div>
			</div>
		</div>
	</div>
	<script>
		document.getElementById('register').addEventListener('click', function () {
          console.log("Register button clicked");
              
          //Getting the data from feilds
          const username = document.getElementById('username').value;
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
          
		  console.log(username+" "+email+" "+password);
          //Validation
          if(username === "" || username === undefined ||
           email === "" || email === undefined || 
           password === "" || password === undefined) return;

          //User Object
          const user = {
            username,
            email,
            password
          }

          axios.post('http://localhost:3000/api/users', user)
            .then(response => {
              //Redirecting to Homepage
			  window.location.replace("./home.html");
            })
            .catch(error => console.error(error));
			

		});

	</script>
</body>
</html>